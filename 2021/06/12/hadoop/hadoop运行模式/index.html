
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>hadoop运行模式 | 春江花月夜o</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="" />
    
    <meta name="description" content="hadoop运行模式 本地模式   伪分布式模式   完全分布式模式阿里云定制2.7.2版本  本地模式https:&#x2F;&#x2F;hadoop.apache.org&#x2F;docs&#x2F;stable&#x2F;hadoop-project-dist&#x2F;hadoop-common&#x2F;SingleCluster.html 单机模式案例 1.案例一 1234567查找给定文件的正则匹配对象grepBy default, Hadoop i">
<meta property="og:type" content="article">
<meta property="og:title" content="hadoop运行模式">
<meta property="og:url" content="http://example.com/2021/06/12/hadoop/hadoop%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F/index.html">
<meta property="og:site_name" content="春江花月夜o">
<meta property="og:description" content="hadoop运行模式 本地模式   伪分布式模式   完全分布式模式阿里云定制2.7.2版本  本地模式https:&#x2F;&#x2F;hadoop.apache.org&#x2F;docs&#x2F;stable&#x2F;hadoop-project-dist&#x2F;hadoop-common&#x2F;SingleCluster.html 单机模式案例 1.案例一 1234567查找给定文件的正则匹配对象grepBy default, Hadoop i">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/css/images/hadoop.jfif">
<meta property="article:published_time" content="2021-06-12T00:25:22.041Z">
<meta property="article:modified_time" content="2021-06-12T02:18:28.910Z">
<meta property="article:author" content="durian">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/css/images/hadoop.jfif">
    

    

    
        <link rel="icon" href="/css/images/gouzi.ico" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
    


<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="春江花月夜o" type="application/atom+xml">
</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">关于</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/%5Bobject%20Object%5D">python</a>
                                    <ul class="main-nav-list-child">
                                        <li class="main-nav-list-item">
                                            
                                        </li>
                                    </ul>
                                </li>
                                
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">cpp</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/%5Bobject%20Object%5D">webframe</a>
                                    <ul class="main-nav-list-child">
                                        <li class="main-nav-list-item">
                                            
                                                <a class="main-nav-list-link" href="/null">flask</a>
                                            
                                                <a class="main-nav-list-link" href="/null">django</a>
                                            
                                        </li>
                                    </ul>
                                </li>
                                
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">algorithm</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">bigdata</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/%5Bobject%20Object%5D">nosql</a>
                                    <ul class="main-nav-list-child">
                                        <li class="main-nav-list-item">
                                            
                                                <a class="main-nav-list-link" href="/null"> redis</a>
                                            
                                                <a class="main-nav-list-link" href="/null">mysql</a>
                                            
                                                <a class="main-nav-list-link" href="/null"> redis高级篇</a>
                                            
                                                <a class="main-nav-list-link" href="/null">mysql高级篇</a>
                                            
                                        </li>
                                    </ul>
                                </li>
                                
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/bigdata/">bigdata</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/bigdata/hadoop/">hadoop</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-hadoop/hadoop运行模式" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        hadoop运行模式
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2021/06/12/hadoop/hadoop%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F/" class="article-date">
       <time datetime="2021-06-12T00:25:22.041Z" itemprop="datePublished">2021-06-12</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/2021/06/12/hadoop/hadoop%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F/" class="article-date">
     <time datetime="2021-06-12T02:18:28.910Z" itemprop="dateModified">2021-06-12</time>
  </a>
</div>


                

                
                
   <div class="article-counter">
      <i class="fa fa-file-word-o"></i>
      <span class="post-count-item-text">本文字数: </span>
      <span class="post-count">2.5k</span>
      <i class="fa fa-clock-o"></i>
      <span class="post-time-item-text">阅读时长: </span>
      <span class="post-count">11 分钟 </span>
   </div>


                <span id="busuanzi_container_page_pv">
                阅读次数<span id="busuanzi_value_page_pv"></span>次
                </span>
            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <h2 id="hadoop运行模式"><a href="#hadoop运行模式" class="headerlink" title="hadoop运行模式"></a>hadoop运行模式</h2><ul>
<li>本地模式  </li>
<li>伪分布式模式  </li>
<li>完全分布式模式<br>阿里云定制2.7.2版本</li>
</ul>
<h2 id="本地模式"><a href="#本地模式" class="headerlink" title="本地模式"></a>本地模式</h2><p><a target="_blank" rel="noopener" href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html</a></p>
<h3 id="单机模式案例"><a href="#单机模式案例" class="headerlink" title="单机模式案例"></a>单机模式案例</h3><ul>
<li><p>1.案例一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">查找给定文件的正则匹配对象grep</span><br><span class="line">By default, Hadoop is configured to run in a non-distributed mode,as a single Java process. This is useful for debugging.</span><br><span class="line">The following example copies the unpacked conf directory to use as input and then finds and displays every match of the given regular expression. Output is written to the given output directory.</span><br><span class="line">$ mkdir input</span><br><span class="line">$ cp etc&#x2F;hadoop&#x2F;*.xml input</span><br><span class="line">$ bin&#x2F;hadoop jar share&#x2F;hadoop&#x2F;mapreduce&#x2F;hadoop-mapreduce-examples-3.2.1.jar grep input output &#39;dfs[a-z.]+&#39;</span><br><span class="line">$ cat output&#x2F;*</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.案例二</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wordcount案例 手写wordCount案例</span><br><span class="line">大数据框架都需要有输入路径和输出路径</span><br><span class="line">1.创建输入分析路径</span><br><span class="line">mkdir input</span><br><span class="line">2.在input文件夹中创建两个文件</span><br><span class="line">touch wcinput00001</span><br><span class="line">touch wcinput00002</span><br><span class="line">3.使用hadoop中的wordcount分析input文件夹</span><br><span class="line">bin&#x2F;hadoop jar share&#x2F;hadoop&#x2F;mapreduce&#x2F;hadoop-mapreduce-examples-2.7.2.jar wordcount input output</span><br><span class="line">指定案例中使用的分析代码为wordcount，指定输入路径和输出路径</span><br></pre></td></tr></table></figure>
<p>注意可以对一个文件单独分析</p>
</li>
</ul>
<h2 id="伪分布式模式"><a href="#伪分布式模式" class="headerlink" title="伪分布式模式"></a>伪分布式模式</h2><p>按照集群配置，但是只是一个机器一个hadoop<br><a target="_blank" rel="noopener" href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html</a></p>
<h3 id="修改core-site-xml"><a href="#修改core-site-xml" class="headerlink" title="修改core-site.xml"></a>修改core-site.xml</h3><ul>
<li><p>1.配置namenode的地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;hdfs:&#x2F;&#x2F;localhost:9000&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">这里如果是真的集群，就需要指定localhost为主节点的ip</span><br><span class="line">hdfs:&#x2F;&#x2F;h100:9000</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.指定hadoop运行时产生的文件的存储目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;&#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;data&#x2F;tmp&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br><span class="line">需要在指定路径下创建文件</span><br></pre></td></tr></table></figure></li>
<li><p>注意：指定了core-site.html协议之后hadoop采用的文件存储不在是本地的file:////<br>变为了hdfs://所以这时执行本地案例会报错<br><a target="_blank" rel="noopener" href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/core-default.xml">https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/core-default.xml</a><br>ctrl f搜索hadoop.tmp.dir<br>发现默认路径是/tmp/hadoop-${user.name}<br>在系统的tmp目录下创建一个带当前用户名的路径，我们把它改为自己的路径进行储存。<br>/opt/module/hadoop/data/tmp<br>系统tmp会自动清空并且存在权限问题</p>
</li>
</ul>
<h3 id="配置hadoop-env-sh"><a href="#配置hadoop-env-sh" class="headerlink" title="配置hadoop-env.sh"></a>配置hadoop-env.sh</h3><ul>
<li>修改JAVA_HOME<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME&#x3D;$PATH:&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-1.8.0-openjdk-1.8.0.102-4.b14.el7.x86_64&#x2F;jre</span><br><span class="line">分布式必须配置JAVA_HOME的详细地址</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="配置hdfs-site-xml"><a href="#配置hdfs-site-xml" class="headerlink" title="配置hdfs-site.xml"></a>配置hdfs-site.xml</h3><ul>
<li>1.指导hdfs副本的数量（主从数量）<br>默认副本是三个，指的就是在三台机器上存储同一个数据，任何一台节点挂掉都还有两份，<br>而且挂掉之后，如果有其它节点还会把其它子节点拿上来使用（始终保持副本数为3）但如果只<br>有一台服务器就只会保存一份，如果你逐渐增加节点它就会立刻备份你的节点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;&#x2F;value&gt;</span><br><span class="line">    &lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="启动集群"><a href="#启动集群" class="headerlink" title="启动集群"></a>启动集群</h3><ul>
<li><p>1.格式化namenode<br>第一次启动时格式化，以后就不要格式化了，格式化会把集群上的数据全部清空</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin&#x2F;hdfs namenode –format</span><br></pre></td></tr></table></figure></li>
<li><p>2.启动namenode</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sbin&#x2F;hadoop-daemon.sh start 启动hadoop守护进程</span><br><span class="line">可以启动namenode和datanode</span><br><span class="line">这里hadoop3.3使用bin&#x2F;hdfs –daemon start namenode代替</span><br><span class="line">启动后jps查看java进程</span><br><span class="line">想格式化之前先查看jps关掉进程namenode和datanode然后将data和logs删掉</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.启动datanode</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bin&#x2F;hdfs –daemon start datenode</span><br><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;QQB67G8COM&#x2F;article&#x2F;details&#x2F;83382477</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.关闭防火墙</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">开放端口命令：firewall-cmd --zone&#x3D;public --add-port&#x3D;8088&#x2F;tcp --permanent</span><br><span class="line">关闭端口命令：firewall-cmd --zone&#x3D; public --remove-port&#x3D;50070&#x2F;tcp --permanent</span><br><span class="line">重载配置命令：firewall-cmd –reload</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.jps和使用hadoop干活<br>发现namenode和datanode都已经起来，可以干活了。怎么干活呢？</p>
<ul>
<li>1.hadoop给你提供了一个web登录页面</li>
<li>2.h101:9870或10.167.218.161:9870</li>
<li>3.这里的端口号3.1以上为9870，以下为50070<ul>
<li>1.overview为整个集群的介绍介绍了版本 唯一id 空间大小默认10GB 使用空间大小</li>
<li>2.datanodes数据节点介绍数据节点的个数和每个数据节点的信息</li>
<li>3.datanode volume failures失败的时候在这里查看，写报告</li>
<li>4.snapshot快照</li>
<li>5.startup progress显示开启启动处理的一些进程，开机处理的事务</li>
<li>6.重点utillities</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>1.browse directory<br>根目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">如何在其中创建路径和使用对应路径文件命令？</span><br><span class="line">bin&#x2F;hdfs dfs –mkdir –p(创建多级目录) &#x2F;user&#x2F;chunjianghua&#x2F;input（类似于linux的目录树 linux命令好多都可以用）</span><br><span class="line">比如查看根路径</span><br><span class="line">bin&#x2F;hdfs dfs –ls &#x2F;</span><br><span class="line">查看多级目录</span><br><span class="line">bin&#x2F;hdfs dfs –lsr &#x2F;</span><br><span class="line">把wcinput文件上传到user&#x2F;chunjianghua&#x2F;input</span><br><span class="line">如果没有配置core-site.xml，读取的文件路径都是本地，配置完hdfs以后，产生的就是hdfs的路径。把本地文件上传到hdfs路径文件</span><br><span class="line">bin&#x2F;hdfs dfs –put wcinput&#x2F;wc.input &#x2F;user&#x2F;chunjianghua&#x2F;input</span><br><span class="line">每个块的上限值默认为128M</span><br><span class="line"></span><br><span class="line">执行我们存储在hdfs下的input使用wordcount</span><br><span class="line">bin&#x2F;hadoop jar share&#x2F;hadoop&#x2F;mapreduce&#x2F;hadoop-mapreduce-examples-3.3.0.jar wordcount &#x2F;user&#x2F;chunjianghua&#x2F;input &#x2F;user&#x2F;chunjianghua&#x2F;output </span><br><span class="line">这时我们使用的命令处理的路径已经是hdfs的路径</span><br><span class="line">http:&#x2F;&#x2F;10.167.218.161:9870&#x2F;explorer.html#&#x2F;user&#x2F;chunjianghua</span><br><span class="line"></span><br><span class="line">如何查看我们的处理的output？</span><br><span class="line">1.到网站下载下来查看</span><br><span class="line">2.使用命令</span><br><span class="line">bin&#x2F;hdfs dfs -cat &#x2F;user&#x2F;chunjianghua&#x2F;output&#x2F;p*</span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li><p>1.查看logs日志</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd logs，一旦出现问题第一时间查看datanode-hadoop01.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.为什么不能经常格式化namenode</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;data&#x2F;tmp&#x2F;dfs</span><br><span class="line">name存储的namenode的数据</span><br><span class="line">data文件就是存储的集群上实实在在的数据</span><br><span class="line">cd name&#x2F;current&#x2F;</span><br><span class="line">cat VERSION</span><br><span class="line">有集群的唯一标识</span><br><span class="line">NAMENODE:clusterID&#x3D;CID-45074509-2b20-437e-a0c0-ea59dbcd00fb</span><br><span class="line">cd ..&#x2F;..&#x2F;data&#x2F;current&#x2F;</span><br><span class="line">cat VERSION	</span><br><span class="line">DATANODE:clusterID&#x3D;CID-45074509-2b20-437e-a0c0-ea59dbcd00fb</span><br><span class="line">NAMENODE和DATANODE必须有相同的集群id，他们之间需要通过这个id交互通讯。</span><br></pre></td></tr></table></figure>
<p>如果你没事儿格式化namenode就会导致集群id变化导致namenode和datanode不认识。<br>所以当要格式化namenode时要把存储集群id的文件都删除</p>
</li>
</ul>
<h3 id="启动yarn和mapreduce"><a href="#启动yarn和mapreduce" class="headerlink" title="启动yarn和mapreduce"></a>启动yarn和mapreduce</h3><h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><ul>
<li>1.配置集群在yarn上运行MR<br>  RESOURCE MANAGER 集群资源调度的老大<br>  NODE MANAGER 单节点资源调度的老大</li>
<li>2.启动，测试集群增删改查（集群搭建好后一定要测试，功能测试和性能测试）</li>
<li>3.在yarn上执行wordcount</li>
</ul>
<h4 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h4><ul>
<li>1.配置集群<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">	1.配置yarn-env.sh</span><br><span class="line">	JAVA_HOME</span><br><span class="line">	export JAVA_HOME&#x3D;&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64&#x2F;</span><br><span class="line"></span><br><span class="line"> 	2.配置yarn-site.xml</span><br><span class="line"> 	1.配置nodemanager获取数据方式</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">   	&lt;name&gt;yarn.nodemanager.aux-services&lt;&#x2F;name&gt;</span><br><span class="line">		&lt;value&gt;mapreduce_shuffle&lt;&#x2F;value&gt;</span><br><span class="line">	&lt;&#x2F;property&gt;</span><br><span class="line">	这里采用了洗牌的算法赋予reduce获取数据资源的方式</span><br><span class="line"></span><br><span class="line">	2.指定resourceManager放在哪个服务器上</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">   	&lt;name&gt;yarn.resourcemanager.hostname&lt;&#x2F;name&gt;</span><br><span class="line">		&lt;value&gt;h101&lt;&#x2F;value&gt;</span><br><span class="line">	&lt;&#x2F;property&gt;wq</span><br><span class="line">	</span><br><span class="line">	3.配置mapred-env.sh</span><br><span class="line">	遇到env就配置JAVA_HOME</span><br><span class="line">	</span><br><span class="line">	4.配置mapred-site.xml.templete</span><br><span class="line">	1.指定MR运行在yarn上</span><br><span class="line">	&lt;propery&gt;</span><br><span class="line">		&lt;name&gt;mapreduce.framework.name&lt;&#x2F;name&gt;</span><br><span class="line">		&lt;value&gt;yarn&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br><span class="line">The default number of map tasks per job. Ignored when mapreduce.framework.name is &quot;local&quot;.</span><br><span class="line">	默认是本地运行</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="启动集群-1"><a href="#启动集群-1" class="headerlink" title="启动集群"></a>启动集群</h4><ul>
<li>1.启动namenode datanode jps</li>
<li>2.启动resourcemanager nodemanager</li>
<li>3.0版本以下sbin/yarn-daemon.sh start resourcemanager</li>
<li>3.0版本以上bin/yarn –daemon start resourcemanager<br>  bin/yarn –daemon start nodemanager</li>
</ul>
<p>运行jar包wordcount<br>删除目录文件<br>bin/hdfs dfs –rm –r /user/c/output<br>hadoop3.0以上的server变量参数不再共享，需要手动设置<br>In Hadoop 3, YARN containers do not inherit the NodeManagers’ environment variables. Therefore, if you want to inherit NodeManager’s environment variables (e.g. HADOOP_MAPRED_HOME), you need to set additional parameters (e.g. mapreduce.admin.user.env and yarn.app.mapreduce.am.env).<br><property><br><name>yarn.app.mapreduce.am.env</name><br><value>HADOOP_MAPRED_HOME=/opt/hadoop</value><br></property><br><property><br><name>mapreduce.map.env</name><br><value>HADOOP_MAPRED_HOME=/opt/hadoop</value><br></property><br><property><br><name>mapreduce.reduce.env</name><br><value>HADOOP_MAPRED_HOME=/opt/hadoop</value><br></property></p>
<p>bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.0.jar wordcount /user/c/input /user/c/output</p>
<p>簡單來說HADOOP_MAPRED_HOME=HADOOP_HOME，但必須額外設定HADOOP_MAPRED_HOME。</p>
<p>查看 h101:9870<br>    h101:8088查看datanode节点</p>
<p>history点不进去是因为服务没有开<br>四.配置历史服务器<br>为了查看程序的历史运行情况，需要配置一下历史服务器，具体步骤如下：<br>1.配置mapred-site.xml<br><property><br>    <name>mapreduce.jobhistory.address</name><br><value>h101:10020</value><br></property></p>
<property>
    <name>mapreduce.jobhistory.webapp.address</name>
    <value>h101:19888</value>
</property>

<p>2.启动历史服务器<br>sbin/mr-jobhistory-daemon.sh start historyserver<br>bin/mapred –daemon start historyserver</p>
<h4 id="日志聚集开启"><a href="#日志聚集开启" class="headerlink" title="日志聚集开启"></a>日志聚集开启</h4><p>应用运行完成以后，将程序运行日志信息上传到HDFS系统上，可以方便的查看程序运行详情，方便调试。<br>注意：<br>开启日志聚集功能需要重新启动NodeManager、ResourceManager、HistoryManager<br>1.停止三大manager<br>bin/mapred –daemon stop historyserver<br>bin/yarn –daemon stop nodemanager<br>bin/yarn –daemon stop resourcemanager</p>
<p>2.配置yarn-site.xml<br><property><br>    <name>yarn.log-aggregation-enable</name><br>    <value>true</value><br></property></p>
<property>
    <name>yarn.log-aggregation.retain-seconds</name>
    <value>604800</value>
</property>
按秒计算

<p>3.重启三大manager</p>
<p>4.删除wordcount重新运行<br>bin/hadoop jar share/  ……<br>wordcount ////   //// </p>
<h4 id="配置信息详解"><a href="#配置信息详解" class="headerlink" title="配置信息详解"></a>配置信息详解</h4><p>可以通过以下网站左下角配置文件获取详细配置信息(或者去对应的jar包查找)<br><a target="_blank" rel="noopener" href="https://hadoop.apache.org/docs/stable/">https://hadoop.apache.org/docs/stable/</a></p>
<p>1.core-default.xml<br>1.fs.defaultFS    namenode的名称和端口号<br>2.hadoop.tmp.dir数据存储的路径</p>
<p>2.hdfs-default.xml<br>1.dfs.replication 副本数</p>
<p>3.yarn-default.xml 开启node resource manager<br>1.yarn.nodemanager.aux-services    nodemanager采用的算法<br>mapreduce_shuffle<br>2.yarn.resourcemanager.hostname   nodemanager的服务器名称<br>3.yarn.log-aggregation-enable   开启日志文件<br>4.yarn.log-aggregation.retain-seconds  日志默认的保留天数</p>
<p>4.mapred-default.xml<br>1.mapreduce.framework.name  yarn<br>mapreduce默认是local运行,这里配置为用yarn服务器运行<br>2.yarn.app.mapreduce.am.env<br>3.mapreduce.map.env<br>4.mapreduce.reduce.env<br>配置mapreduce的map和reduce和yarn的mapreduce的运行环境</p>
<p>5.mapreduce.jobhistory.address<br>配置历史访问地址<br>6.mapreduce.jobhistory.webapp.address<br>配置历史web的访问地址</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://example.com/2021/06/12/hadoop/hadoop%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F/" data-id="ckpt3vgeu0010ewtxdq4jhuyi" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "durian"
        },
        "headline": "hadoop运行模式",
        "image": "http://example.com/css/images/hadoop.jfif",
        "keywords": "",
        "genre": "bigdata hadoop",
        "datePublished": "2021-06-12",
        "dateCreated": "2021-06-12",
        "dateModified": "2021-06-12",
        "url": "http://example.com/2021/06/12/hadoop/hadoop运行模式/",
        "description": "hadoop运行模式
本地模式  
伪分布式模式  
完全分布式模式阿里云定制2.7.2版本

本地模式https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html
单机模式案例
1.案例一
1234567查找给定文件的正则匹配对象grepBy default, Hadoop i",
        "wordCount": 692
    }
</script>

</article>

    <section id="comments">
    
        
    <!-- Valine -->
    <div class="vcomments"></div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/chunjianghuayueye2" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2021/06/12/hadoop/hadoop%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            hadoop完全分布式
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2021/06/12/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/%E6%96%87%E4%BB%B6%E6%9E%B6%E6%9E%84/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">innodb文件架构体系(mysql8)</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
<div class="widget-wrap widget-list">
    <h3 class="widget-title">目录</h3>
    <div class="widget">
        <div id="toc" class="toc-article">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#hadoop%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">hadoop运行模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">本地模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%9C%BA%E6%A8%A1%E5%BC%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">2.1.</span> <span class="toc-text">单机模式案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">伪分布式模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9core-site-xml"><span class="toc-number">3.1.</span> <span class="toc-text">修改core-site.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEhadoop-env-sh"><span class="toc-number">3.2.</span> <span class="toc-text">配置hadoop-env.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEhdfs-site-xml"><span class="toc-number">3.3.</span> <span class="toc-text">配置hdfs-site.xml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E9%9B%86%E7%BE%A4"><span class="toc-number">3.4.</span> <span class="toc-text">启动集群</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.5.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8yarn%E5%92%8Cmapreduce"><span class="toc-number">3.6.</span> <span class="toc-text">启动yarn和mapreduce</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90"><span class="toc-number">3.6.1.</span> <span class="toc-text">分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.6.2.</span> <span class="toc-text">执行步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E9%9B%86%E7%BE%A4-1"><span class="toc-number">3.6.3.</span> <span class="toc-text">启动集群</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E8%81%9A%E9%9B%86%E5%BC%80%E5%90%AF"><span class="toc-number">3.6.4.</span> <span class="toc-text">日志聚集开启</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.6.5.</span> <span class="toc-text">配置信息详解</span></a></li></ol></li></ol></li></ol>
        </div>
    </div>
</div>


            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88/" class="thumbnail">
    
    
        <span style="background-image:url(/css/images/xiaohuanren3.jpg)" alt="mysql索引失效" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/nosql/">nosql</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/nosql/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/">mysql高级篇</a></p>
                            <p class="item-title"><a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88/" class="title">mysql索引失效</a></p>
                            <p class="item-date"><time datetime="2021-06-13T07:40:54.744Z" itemprop="datePublished">2021-06-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/" class="thumbnail">
    
    
        <span style="background-image:url(/css/images/shan.jpg)" alt="mysql索引优化案例分析" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/nosql/">nosql</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/nosql/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/">mysql高级篇</a></p>
                            <p class="item-title"><a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/" class="title">mysql索引优化案例分析</a></p>
                            <p class="item-date"><time datetime="2021-06-13T07:40:39.919Z" itemprop="datePublished">2021-06-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/13/webframe/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="thumbnail">
    
    
        <span style="background-image:url(/css/images/xiaohuanren2.jpg)" alt="设计模式" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/webframe/">webframe</a></p>
                            <p class="item-title"><a href="/2021/06/13/webframe/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="title">设计模式</a></p>
                            <p class="item-date"><time datetime="2021-06-13T07:17:23.394Z" itemprop="datePublished">2021-06-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/MHA/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/MHA/" class="title"></a></p>
                            <p class="item-date"><time datetime="2021-06-13T04:16:55.764Z" itemprop="datePublished">2021-06-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2021/06/13/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" class="title"></a></p>
                            <p class="item-date"><time datetime="2021-06-13T04:14:41.084Z" itemprop="datePublished">2021-06-13</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/">bigdata</a><span class="category-list-count">22</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/docker/">docker</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/docker-compose/">docker-compose</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/hadoop/">hadoop</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bigdata/zookeeper/">zookeeper</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/">nosql</a><span class="category-list-count">20</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/mysql%E9%AB%98%E7%BA%A7%E7%AF%87/">mysql高级篇</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/redis/">redis</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nosql/redis%E9%AB%98%E7%BA%A7%E7%AF%87/">redis高级篇</a><span class="category-list-count">8</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/webframe/">webframe</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/webframe/django/">django</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/webframe/flask/">flask</a><span class="category-list-count">5</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">69</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                

            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2021 durian</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank">PPOffice</a></p>
                
            </div>
                <p><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></p>
                <p><span id="busuanzi_container_site_uv"> 
                     本站访客数<span id="busuanzi_value_site_uv"></span>人次
               </span></p>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
    <script src="//cdn1.lncld.net/static/js/2.5.0/av-min.js"></script>
</footer>

    </div>
    
    
    <script src="//unpkg.com/valine"></script>
    <script>
        var GUEST = ['nick','mail','link'];
        var meta = '';
        meta = meta.split(',').filter(function (item) {
            return GUEST.indexOf(item)>-1;
        });
        var avatarcdn = 'gravatar.cat.net' == true;
        new Valine({
            el: '.vcomments',
            notify: "false",
            verify: "false",
            appId: "795P9DunI2Jv3Jho36dlueIS-gzGzoHsz",
            appKey: "pM151YCVhYBYTB9Pt1SRuiKs",
            placeholder: "Just Do It",
            avatar:"mm",
            recordIP:"false",
            visitor: "true"
        });
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
